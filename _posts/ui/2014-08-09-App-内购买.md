---
layout: post
title: 内购和游戏中心
tags: ui
category: ui
---
「App 内购买」(In-App Purchase)能让用户在你的程序中一个你所设计的商店里购买数字产品。<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/in-app_purchase_2x.png"/>
	</td>
</tr>
</table>

例如,用户可能会:
-  升级应用的基础版到高级版
-   续订每月新内容
-   购买虚拟项目,例如游戏中一个新等级或一件武器
-    购买下载新书
-    
在你的程序中使用 Store Kit 框架嵌入一个商店,以支持「App 内购买」。当用户决定购买时,Store Kit 连接到 App Store,安全地处理付款,然后通知你的 app 可以提供所购买的项目。

	重要:「App 内购买」只针对付款——你需要提供额外的功能,例如向用户展现你的商店、解锁内置特性和从你自己 的服务器上下载内容。
	此外,所有你通过「App 内购买」销售的产品都必须在 App Store 注册。如需了解关于在程 序中添加商店的技术条件,
	请参阅《 In-App Purchase Proggramming Guide》 。更多关于使用「App 内购买」 的商务条件,
	请访问 App Store Resource Center。你也应该阅读授权协议,它可以告诉你关于可销售物品的确切 信息和如何在你的程序中提供这些产品。

以下准则有助于设计一个用户称赞的支付体验。
- 优雅地在你的程序中整合商店体验。在你的程序中展示商品和处理用户交易时,营造一种宾至如归的感觉。你一定不 想用户访问你的商店时让他们感觉进入了另一个 app 。
- 使用简洁明了的标题和描述。最好是用户扫一眼就能马上发现他们感兴趣的项目。当你使用直接了当的语言和简炼的 标题时,用户更容易理解你所出售的项目。- 不要替换默认的确认警告框。在用户订购一个产品时,Store Kit 会在屏幕之上弹出一个确认警告框。你不应更改这 个警告框,因为这会帮助用户避免意外的购买。
##Game Center
Game Center 可供人们玩游戏、组织在线多人游戏、享受更多乐趣。玩家登录内置的 Game Center 便可以发现新 游戏、添加新朋友以及浏览排行榜和成就。<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/game_center_ios_2x.png"/>
	</td>
</tr>
</table>

作为一个游戏开发者,你可以使用 Game Kit API 向 Game Center 服务器告知分数和成就、在游戏界面中显示排 行榜,并帮助用户发现其他玩家。如需了解如何将 Game Center 整合进你的程序,请参阅「Game Center Programming Guide」。以下准则可以帮助你在程序中给用户以极致的 Game Center 体验。
- 不要创建自定义界面来引导用户登录 Game Center。如果人们还没有在其设备上登录 Game Center,那当他们启 动支持 Game Center 的程序时,系统会自动提示登录。没有必要去展示自定义的登录界面,而且还可能会干扰用 户。
- 通常来说,使用标准的 Game Center 界面。在少数情况下,自定义游戏的 Game Center 界面可能很有意义,但 这样做也有可能让人们感到迷惑。iOS 和 OS X 用户都很熟悉标准的 Game Center 界面,这会有一种同属一个游戏 社区的归属感。- 让用户能够关闭语音聊天。一些用户可能不想在启动游戏时自动运行语音聊天,大部分用户都会认可在具体场景下能 够关闭语音聊天。
##通知中心
「通知中心」能让用户有一个独立而方便的地方去查看 app 的通知。用户喜欢「通知中心」朴实低调的界面设计, 也很看重其自定义每个 app 的通知方式的能力。<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/notification_center_2x.png"/>
	</td>
</tr>
</table>

「通知中心」使用分段式列表依次展示用户感兴趣的 app 通知项目。此外,用户也可以在「通知中心」中查看来自 内置 app 的信息,例如「天气」、「日历」、「提醒事项」和「股票」。在一些有趣的事情发生时,iOS app 能够使用本地通知或推送通知让用户获知,例如:
-  收到一条信息
- 一个事件即将发生
- 新的数据可供下载
- 某些东西的状态改变了
<strong>本地通知</strong>由 app 安排并由 iOS 系统在同一设备上发布,无论程序当前是不是在后台运行。例如,某个日历或者待办 事项应用可以安排一个本地通知来提醒用户一个即将到来的会议或者截止时间。
<strong>推送通知</strong>由app 的远程服务器发送到 Apple 推送通知服务(Apple Push Notification service)上,再由其推送 通知到所有安装了这个程序的设备上。例如,一款用户能和他人对战的游戏可以更新所有玩家的最新动向。
当你的 app 在后台运行时,你仍然可以接受本地和推送通知,但要以一种特定的方式向用户传达。
那些支持本地或推送通知的 iOS 应用能以多种方式融入「通知中心」,这取决于用户的偏好。为了确保用户能够自定 义通知体验,你应当尽可能多地支持以下这些通知样式:
-  横幅(banner)
- 提醒(alert)
- 徽标(badge)
- 声音(sound)
<Strong>横幅</Strong>是一个小的透明区域,出现在屏幕顶部并在几秒后消失。除了推送信息,iOS 还在横幅中显示你应用的小图标, 以便用户一眼就能知道哪个应用在通知他们(如需了解应用小图标,请参阅「应用图标」(第 175 页))。

<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/notif_ctr_banner_2x.png"/>
	</td>
</tr>
</table>
<Strong>提醒</Strong>是一个标准的警告框视图,出现在屏幕之上并需要用户交互才会消失。在提醒中你可以展现通知信息和一个有标 题的操作按钮(可选),但你无法控制提醒的背景或按钮样式。<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/notif_ctr_alert_2x.png"/>
	</td>
</tr>
</table><Strong>徽标</Strong>是一个出现在应用图标右上角的红色小圆点,上面显示着未读通知数。你无法控制徽标的的大小和颜色。
<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/notif_ctr_badge_2x.png"/>
	</td>
</tr>
</table>这三种通知样式可以和自定义或者系统内置的声音配合使用。----

注意:使用本地通知的 app 可以展现横幅、提醒、徽标和声音,但使用推送通知的程序的通知样式需要只能是此应 用注册的推送分类。例如,如果一个推送通知的程序只注册了提醒,在收到通知时,用户是不能选择接收徽标和声音 的。----当你设计你的通知可以提供的内容时,请务必遵循以下准则。
<b>随时更新徽标上的数字。</b>用户一浏览信息就更新徽标显得尤为重要,这样他们才不会认为有新通知抵达。在徽标上的 数字归零的同时,也记得从「通知中心」移除相关的通知项目。
	￼重要:不要将徽标用于除通知外的其他用途。要记得用户可以关闭你的程序的徽标,因此你不能肯定他们将看到徽标 数字。
<b>不要为同一事件重复发送通知。</b>	在选择通过一些方式对通知项目进行操作前,用户会一直看到它们。如果你对同一时 间重复发送通知,你会塞满整个「通知中心」列表,很可能使得用户关掉你的通知。<b>放置自定义信息,但不包含你 app 的名字。</b>你自定义的信息会展现在提醒、横幅和「通知中心」的列表项中。在你 自定义的信息中不应包含你 app 的名字,因为 iOS 会自动在其中显示名字。一条有用的本地通知或推送通知应当:
- 聚焦于信息,而非用户操作。避免告诉用户点击哪个警告框按钮或者如何打开你的应用。
- 足够简短,以一或两行显示。冗长的信息对用户来说很难浏览,他们不得不滚动提醒。
- 使用句式大写样式和合适的结束标点。如果可能,使用一个完整的句子。
		注意:通常来说,「通知中心」中的项目比横幅可以展示更多的通知信息。如果需要,iOS 会截断你的信息以便其使 用每一种通知样式。
		但为获得最佳效果,你不应该让信息被截断。<b>为提醒中的操作按钮提供一个自定义标题(可选)。</b>提醒可以包含一两个按钮。在双按钮提醒中,「关闭」按钮在左 边,操作按钮(默认标题视图)在右边。如果只有一个按钮,提醒中会显示「好」按钮。轻点操作按钮,提醒框消失并启动你的程序。无需打开你的 app ,轻点「关闭」或「好」按钮都能让提醒消失。如果你想为操作按钮使用自定义标题,确保创建的标题清晰描述程序启动后会发生的操作。例如,游戏中可能会使用 「开始游戏」作为标题以暗示轻点按钮会打开应用到一个用户可以开始玩的场景。要确保标题:- 使用标题大写样式
-  足够简短,没有截断地适应按钮(也一定要测试本地化标题的长度)
		注意:当设备在锁屏时收到一条通知,你自定义的按钮标题也会被展示在用户看到的「滑动来查看」消息中。当这种 情况发生,
		你自定义的标题会自动转成小写并替代消息中的「查看」这个词。<Strong>提供一个用户可以在收到通知时选择听到的声音。</Strong>在用户没有看着设备屏幕时,声音可以吸引用户注意。当用户认为 一个通知很重要时,他们可能想要打开声音。例如,日历应用可能会为一个提醒播放声音以提醒用户即将到来的事 件。或者,一个协同任务管理的应用可能随着新徽标播放声音,以提醒一个远程同事已经完成了一项任务。<Strong>可以使用内置的提醒声音或者自定义一个</Strong>如果你要自定义一个声音,确保其简短、独特且制作精良。(如需了解更 多声音的技术要求,请参阅《Local and Push Notification Programming Guide》中的「Preparing Custom Alert Sounds」部分。)请注意,在收到通知时你不能让设备自动振动,因为是用户控制提醒是否伴随振动。<b>可以考虑提供一个启动画面。</b>除了已有的启动画面,你还可以在用户从通知中启动你的程序时提供一个不同的启动画 面。例如,游戏可以指定一个和游戏过程中的截图相似的启动画面,而非和开场菜单页面相似的图像。(如需了解如 何创建启动画面,请参阅「启动画面」(第 180 页)。)