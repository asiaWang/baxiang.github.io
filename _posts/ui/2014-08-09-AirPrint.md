---
layout: post
title: AirPrint，位置服务，快速预览
tags: ui
category: ui
---

使用 AirPrint,用户可以无线打印在你程序中的内容和使用「打印中心」程序来检查打印任务。

<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/print_options_2x.png"/>
	</td>
</tr>
</table>

你可以利用对图像和 PDF 内容的内置打印支持,或者使用打印专用的程序接口来自定义格式和渲染。iOS 会找到打 印机,在选中的打印机上安排并执行打印任务。通常,当用户想要打印什么东西时,在你的应用中轻点标准的「分享」按钮即可。在出现的视图中选择「打印」后, 他们可以选中一台打印机,设好打印选项,然后轻点打印按钮开始工作。在 iPhone 上,这个视图以操作列表的方式 从屏幕底部上滑出现;在 iPad 上,这个视图出现在从打印按钮弹出的菜单中。用户可以在「打印中心」中检查提交的打印任务,这是一个只在进行打印工作时才出现的后台系统程序。在「打印中 心」里,用户可以查看当前打印队列,获得某个打印任务的详细信息,甚至取消任务。只需要一丁点的代码,你就能在你的 app 中支持最基本的打印(如需了解如何在你的代码中添加打印支持,请参阅 《Drawing and Printing Guide for iOS》)。为了确保用户会喜欢你程序的打印体验,遵循以下准则:
使用系统自带的「分享」按钮。用户对次按钮的意义和功能都很熟悉,所以可能的话尽可能使用它。唯一的例外是, 如果你的 app 没有工具栏或者导航栏。碰到这种情况,由于系统「分享」按钮只能用在工具栏或导航栏中,因此你 需要设计一个自定义的打印按钮,来显示在你的 app 主要的界面中。如果打印在当前情境下是首要功能,则显示「打印」项目。如果在当前情境下打印是不适当的,或者用户不想要打 印,在「分享」按钮相关的视图中不要出现「打印」项目。合适的话,给用户提供额外的打印选项。例如,你可能允许用户选择页码范围或者要求打印多份。如果用户不能打印,不要展示打印专用界面。在你展示打印界面前,一定要检查用户的设备是否支持打印。如需了解 如何在你的代码实现,请参阅《UI Print Interaction Controller Class Reference》。
##位置服务
「位置服务」(Location Services)允许程序确定用户大致的地理位置,设备所指的方向和所移动的方向。在 iOS 6 以后,诸如「通讯录」、「日历」、「提醒事项」和「相册」等系统服务页允许 app 访问用户存储在其中的数 据。<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/location_services_alert_2x.png"/>
	</td>
</tr>
</table>

尽管用户赞赏使用一个很了解他们的应用所带来的便利,但仍然希望有选项去控制数据隐私。例如,用户很喜欢能自 动给内容打上位置标签,或者发现附近的朋友,但也希望能够在不想选择和他人分享位置时禁用这些特性。(如需了 解如何让你的程序感知位置,请参阅《Location Awareness Programming Guide》。)
下面这些准则可以帮助你以用户感觉舒适的方式向用户请求数据。
确保用户理解之所以请求他们分享个人数据的原因。对一个用户没有看到明显需要就获取个人数据的行为心存怀疑, 这很正常。为了避免让用户感到不舒服,确保只在用户尝试使用一个明确需要获取位置信息的功能时弹出警告框。例 如,当「位置服务」关闭时用户也能使用「地图」,但当使用发现和追踪当前位置的功能时,他们会看到一个警告 框。
<b>如果看起来不太需要,请描述你的 app 为什么需要这些信息。</p>你可以提供文案,显示在警告框中「『应用名字』想 访问您的通讯录」等系统标题下方。为了让用户能理解你为什么要求访问他们的信息并且不会感到压力,你需要让这 个文案详尽但礼貌。你的解释文案应当:
- 不要包括你的程序名称。系统自带的警告框标题已经包含了程序名称。
-  清楚地描述为什么你的程序需要这些数据。如果合适,你也可以解释你的程序不会将数据用于哪些用途。
-  使用以用户为中心的术语并保持本地化。
- 尽可能简短,同时还易于理解。尽量避免出现一个以上的句子。
- 使用句子大写样式。(句子大写样式意味着首字大写,其余的话都是小写,除非是专业名字或形容词)
在应用启动时请求授权,但只在你的程序没有用户数据就无法操作主要功能时这样做。如果 app 的主要功能明显需 要获取他们的个人信息,用户并不会介意这一点。
<b>避免在用户确切地选择一个需要位置数据的功能前自动触发警告框。</b>这样的话,你不会让用户感到好奇,为什么你的 程序会在他们做一些看上去和位置毫不相干的事情时需要他们的个人数据。(请注意,获取用户的「位置服务」偏好 设置不会触发警告框。)
<b>对于位置数据,检查「位置服务」的偏好设置以避免触发不必要的警告框。</b>你可以使用 Core Location 的程序接口 去获取这个设置(如需了解如何做到这点,请参阅《Core Location Framework Reference》)。通过这种方法, 你可以尽可能只在需要获取位置信息时触发警告框,或者可以完全避免弹出警告框。
##快速预览
使用「快速预览」(Quick Look),用户可以在你的程序内部预览一个文档,即使你的程序不能打开文档。例如, 你可以允许用户预览从网络下载或者从其他渠道接收到的文档。

<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/attached_doc_2x.png"/>
	</td>
</tr>
</table>

如需了解如何在你的程序中支持「快速预览」,请参阅《Document Interaction Programming Topics for iOS》。

<table align="center">
<tr>
	<td>
	<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/attached_doc2_2x.png"/>
	</td>
</tr>
</table>

在用户在你的程序中预览一份文档前,他们可以在你所定制的界面中看到关于文档的信息。例如,在用户从一封邮件 中下载一个附件文档后,iPad 中的「邮件」应用会在邮件的特定界面中展示文档图标、标题和大小。用户可以点击这 个区域以预览文档。

在你的程序中,你可以在一个新视图、全屏界面或者模态视图中展现一个文档预览。你所选择的展现方式取决于你的 程序所运行的设备。

在 iPad 上,模态地呈现文件预览。iPad 的大屏幕很适合在一个沉浸的环境中呈现文件预览,用户也可以很容易离 开。放大这样的转场效果特别适合显示预览。

在 iPhone 上,最好是在一个有导航栏的专用视图中显示文档预览。这样做会让用户能够通过导航来到文档预览并离 开,不至于在你的程序中迷路。虽然在 iPhone app 中以模态方式展现文档预览是可能的,但并不推荐这样做。 (注意,放大这个转场效果在 iPhone 上不可用。)另外请注意,「快速预览」的导航控件放置在展现文档预览的导航视图中的导航栏上。(如果你的视图已经包含了工 具栏,相应地,「快速预览」的导航控件应该放在工具栏中。)
