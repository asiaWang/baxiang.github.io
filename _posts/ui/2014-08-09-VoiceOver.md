---
layout: post
title: VoiceOver，编辑菜单，键盘和输入视图
tags: ui
category: ui
---

VoiceOver 为盲人、低视力用户和有学习障碍的用户提升了可达性。

<table align="center">
	<tr>
		<td>
			<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/voiceover_settings_2x.png" />
		</td>
	</tr>
</table>

为确保 VoiceOver 用户可以使用你的 app,你可能需要在你的界面中提供一些关于视图和控件的描述信息。支持 VoiceOver 并不需要你对用户界面的视觉设计做任何改变。
只要你以完全标准的方式使用标准的 UI 元素,就没有多少额外工作要做。越多地自定义你的界面,你需要提供的自 定义信息就越多,以便 VocieOver 可以准确描述你的 app。让 VoiceOver 用户可以使用你的 iOS app,这会增加你的用户基数并帮助你进入一个新的市场。支持 VoiceOver 还有助于你遵循由不同的理事机构提出的无障碍准则。
##编辑菜单
用户可以在文本视图、web 视图或者图片视图中呼出编辑菜单,以执行诸如「剪切」、「粘贴」和「选择」等操作。
<table align="center">
	<tr>
		<td>
			<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/edit_menu_imessage_2x.png" />
		</td>
	</tr>
</table>你可以在你的 app 中调整一些菜单的行为,以给予用户对内容更多的的控制权。例如,你可以:
- 设定适合于当前情境的标准菜单命令
- 在菜单出现前定义好它的位置,避免 UI 的重要部分被遮挡
- 当用户双击呼出菜单时,定义好默认被选中的对象
你不能改变菜单本身的颜色或形状。如需了解如何在代码中执行这些行为,请参阅《iOS App Programming Guide》中的「Copy and Paste Operation」部分。
为确保你 app 的编辑菜单行为符合用户期望,你应当:
- 显示与当前情境相符的命令。例如,如果什么都没选中,菜单就不应包含「复制」或「粘贴」,因为这些命令只在选 中区域中生效。同样,如果选中了一些东西,菜单里就不应包含「选择」。如果你要在一个自定义视图中支持编辑菜 单,要确保菜单中显示的命令和当前情境相符。- 让菜单和你的界面布局相适应。iOS 在插入点或选中区域的上方或下方(取决于可用空间)显示编辑菜单,并在此显 示菜单指针,以便用户可以看到菜单命令是如何与内容联系起来的。如果需要,你可以在菜单出现前由程序决定好位 置,避免 UI 的重要部分被遮挡。
- 支持两种呼出菜单的手势。尽管触碰并按住的手势是用户呼出编辑菜单最主要的方式,但他们也会在文本视图中双击 一个单词去选中它,同时呼出菜单。如果你要在自定义视图中支持菜单,确保能响应这两种手势。此外,你可以定义 用户双击时默认选中的对象。

- 避免在界面中放置一个在编辑菜单中已经存在的命令按钮。例如,比起提供一个「复制」按钮,让用户使用编辑菜单 执行复制操作会更好,因为用户会想为什么在你的 app 中会有两种方式去做同样的事情。

- 如果对用户有益,考虑支持选中静态文本。例如,用户可能想要复制一张图片的标题,但他们不见得想复制条栏标题 标签或页面标题,例如「账户」。在文本视图中,应当默认选中一个词。- 不要让按钮标题可以选中。一个可选中的按钮标题会让用户很难在不触发按钮的情况下呼出编辑菜单。一般来说,像 按钮这样的元素都不应该被选中。
- 支持复制和粘贴的同时,支持撤销和重做。在用户改变想法时,他们通常期望可以撤销最近的操作。由于编辑菜单在 操作被执行前不需要确认,你需要给用户以机会去撤销和重做他们的操作。##如果你需要自定义编辑菜单项,遵循以下这些准则:
- 创建的编辑菜单要可以编辑,修改或以其他方式直接作用于用户的选中区域。用户希望编辑菜单项可以在当前环境里 直接操作被选中的对象,这时你自定义的菜单项最好能有类似的行为。
<table align="center">
	<tr>
		<td>
			<img src="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/mobilehig/Art/custom_edit_menu_2x.png" />
		</td>
	</tr>
</table>

- 自定义项目列在所有系统项目之后。不要在系统项目中插入你自定义制的项目。
- 保持合理的自定义菜单项目数。不要用太多的选择让你的用户崩溃。
- 为你自定义的菜单项选用简单明了的名字,并确保其准确描述了该命令的作用。通常来说,项目名字应当是描述了所 执行动作的动词。通常你应当使用一个大写单词作为项目名字,但如果你必需使用短句,使用标题大写样式。(简言 之,标题大写样式是指大写每一个单词,冠词、并列连词和四个字以内的介词除外。)##撤销和重做
用户通过摇晃设备可以发起「撤销」操作,这会显示一个警告框来让用户:
- 撤销他们刚刚输入的内容
- 重做之前未完成的输入
- 取消撤销操作
通过定义以下内容,在你的 app 中以更通用的方式支持撤销操作:
-  用户可以撤销或重做的操作
- 什么时候你的 app 应当把一个摇晃事件看成是摇一摇撤销手势
- 要支持多少步的撤销
如需了解如何在代码中执行这一行为,请参阅「Undo Architecture」。如果你要在你的 app 中支持撤销和重做, 遵循以下准则以提供好的用户体验。1. 用简短的描述性短语告知用户正在撤销或重做的具体内容。iOS 会自动在撤销警告框的按钮标题上显示「撤销」和 「重做」(字词后包含一个空格),但你需要用一两个词来描述用户可以撤销或重做的行为。例如,你可能会有「删 除姓名」或「修改地址」这样的文本,那使用诸如「撤销删除姓名」或「重做修改地址」这样的按钮标题。(注意在 警告框中的「取消」按钮不可以被修改或者移除。)
2. 避免使用过长的文本。过长的按钮标题会被截断并且让用户难于理解。由于这是一个按钮标题文本,使用标题大写样 式并且不要增加标点。

3. 避免让摇晃手势过于复杂。虽然你可以在代码中设置何时你的 app 会将一次摇晃事件识别为摇一摇撤销,但如果用 户还可以用摇晃执行一个完全不同的操作,这很可能会让用户迷惑。分析用户在你的 app 中的交互行为,避免造成 用户不能准确预测摇一摇手势的效果。

4. 只有当撤销和重做是你的 app 中的基本任务时,才使用系统自带的「撤销」和「重做」按钮。记住,摇晃手势是用 户触发撤销和重做的首要方式。如果为执行同一个任务提供两种方式,这会让用户迷惑。如果你认为为撤销和重做提 供一个明确专用的按钮很重要,你可以在导航栏中放置系统自带的按钮。(了解更多关于按钮的信息,请参阅「工具 栏和导航栏按钮」(第 124 页)。)5. 将撤销重做和用户当下的情境清晰明确地联系起来,而非之前的情境。仔细考量那些允许被撤销或被重做的行为场 景。通常来说,用户期望他们的改变和操作可以立即生效。##键盘和输入视图

如果合适,你可以设计一个自定义输入视图以取代系统自带的屏幕键盘。
如果你提供了一个自定义输入视图,确保其功能对用户显而易见。
你可以提供一个自定义输入辅助视图,这是分离视图会在键盘(或你的自定义输入视图)上方显示。
当用户在你的输入视图中轻击自定义控件时,请使用标准的键盘点击声音以提供听觉上的反馈。如需了解如何在你的 代码中启用这样的音效,请参阅《UIDevice Class Reference》中 playInputClick 相关的文档。
	注意:标准的点击声音只在自定义输入视图处于当前页面时可用。用户可以在「设置 > 声音」中关闭所有的按键音 (包括你的自定义输入视图中的)。
	